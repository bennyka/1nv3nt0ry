function ObjectView(){function e(){var e=Ti.UI.createAlertDialog({title:L("chooseImageSource","Bitte Bildquelle ausw√§hlen"),buttonNames:[L("Library","Bibliothek"),L("Camera","Kamera"),L("Cancel","Abbrechen")]});e.show(),e.addEventListener("click",t)}function t(e){var t=Ti.UI.createWindow({orientationModes:[Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT,Ti.UI.PORTRAIT]}),i=Ti.UI.createView({left:130,bottom:200});t.add(i),t.addEventListener("open",function(){switch(t.orientationModes=[Ti.UI.PORTRAIT],e.index){case 1:"android"!=Ti.Platform.osname?Ti.Media.showCamera({success:function(e){o(e.media),t.close()},cancel:function(){t.close()},error:function(){t.close()},saveToPhotoGallery:!1,mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO]}):Ti.Media.showCamera({success:function(e){o(e.media),t.close()},cancel:function(){t.close()},error:function(){t.close()}});break;case 0:"android"!=Ti.Platform.osname?Ti.Media.openPhotoGallery({success:function(e){o(e.media),t.close()},cancel:function(){t.close()},error:function(){t.close()},allowEditing:!0,mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO]}):Ti.Media.openPhotoGallery({success:function(e){o(e.media),t.close()},cancel:function(){t.close()},error:function(){t.close()}});break;case 2:t.close();break;default:t.close()}}),t.open()}function o(e){if(!e.height||!e.width)return Ti.UI.createAlertDialog({message:"Das Bild konnte leider nicht importiert werden.",buttonNames:["Ok"]}).show(),void 0;var t=ImageFactory.rotateResizeImage(e,250,100);s.image=t,e=null,t=null}var a=Ti.UI.createView({width:Ti.App.Properties.getList("winDimensions")[0],height:Ti.App.Properties.getList("winDimensions")[1],backgroundColor:backgroundStyle.backgroundColor});if("android"!=Ti.Platform.getOsname()){var n=createButton({title:L("back")});n.addEventListener("click",function(){a.fireEvent("shouldCloseView")})}var r=createButton({title:L("save")});r.addEventListener("click",function(){a.fireEvent("shouldCloseView")});var d=createToolbar({title:L("createObjectHeadline"),leftNavButton:"android"!=Ti.Platform.getOsname()?[n]:[],rightNavButton:[r]});a.add(d);var l=[{id:"name",width:"40%",type:"textfield",hintText:L("name")+"..."},{id:"brand",width:"40%",type:"textfield",hintText:L("brand")+"...",brandList:["Sony","LG","Samsung","Apple"]},{id:"category",width:200,type:"textfield",hintText:L("category")+"..."},{id:"serial",width:200,type:"textfield",hintText:L("serial")+"..."},{id:"invoice",width:200,type:"button",title:L("addInvoice")}];for(i in l)switch(l[i].type){case"textfield":var f=Ti.UI.createTextField({top:d.height+20+70*i,height:35,left:10,width:l[i].width,paddingLeft:4,paddingRight:4,borderRadius:3,borderColor:"#ffffff",borderWidth:1,id:l[i].id,hintText:l[i].hintText,color:"#ffffff",font:{fontFamily:"Helvetica Neue",fontSize:15}});a.add(f),f.addEventListener("change",function(){});break;case"dropdown":break;case"button":var c=createButton({title:l[i].title,top:d.height+20+70*i,height:35,left:10,width:l[i].width,borderColor:"#ffffff",borderWidth:1,id:l[i].id});a.add(c),c.addEventListener("click",e)}var s=Ti.UI.createImageView({top:d.height+20,right:10,width:a.width/2.5});return a.add(s),s.addEventListener("singletap",e),a}Ti.include("/lib/styles.js"),Ti.include("/lib/toolbar.js"),Ti.include("/lib/createButton.js");var ImageFactory=require("fh.imagefactory");module.exports=ObjectView;